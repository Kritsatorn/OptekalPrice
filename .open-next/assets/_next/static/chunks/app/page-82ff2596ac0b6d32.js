(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{870:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var r=a(5155),s=a(2115);let l=["NF","RF","CF","EARF","Marvel"];function n(e,t,a,r){return"".concat(e?"[".concat(e,"] "):"").concat(t," ").concat(a," ").concat(r)}function i(e,t,a){let r=e.split("\n"),s=r.findIndex(e=>e.trim()===t.trim());return s>=0&&(r[s]=a),r.join("\n")}let c=null;async function d(){if(c)return c;let e=await fetch("/data/cards.json");if(!e.ok)throw Error("Failed to load card database");return c=(await e.json()).map(e=>({name:e.n,cardIdentifier:e.id,defaultImage:e.img,sets:e.sets,pitch:e.p,types:e.t,classes:e.c,printings:e.pr.map(e=>({set:e.s,image:e.img,identifier:e.id,edition:e.e,foiling:e.f,treatment:e.a}))}))}function o(e){return"".concat("https://d2wlb52bya4y8z.cloudfront.net/media/cards/large","/").concat(e,".webp")}let u={1:"Red",2:"Yellow",3:"Blue"};function m(e){let t=void 0!==e.pitch?u[e.pitch]:void 0;return t?"".concat(e.name," ").concat(t):e.name}function x(e){let{value:t,onChange:a,errors:s,disabled:l}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"card-input",className:"block text-kicker font-medium text-t-muted uppercase tracking-wider",children:"Card List"}),(0,r.jsx)("textarea",{id:"card-input",value:t,onChange:e=>a(e.target.value),disabled:l,rows:8,className:"w-full rounded-card bg-input-bg border border-input-border px-4 py-3 text-t-strong placeholder-t-muted focus:border-[var(--input-focus-ring)] focus:ring-2 focus:ring-[var(--input-focus-ring)]/20 focus:outline-none font-mono text-[13px] disabled:opacity-50 transition-all",placeholder:"Enter cards, one per line:\nTake the Bait Red NF 3\nSink Below Red RF\nCommand and Conquer CF 2\nArt of War EARF\nSpindle Marvel 1"}),(0,r.jsx)("p",{className:"text-kicker text-t-muted",children:"Format: Card Name [Color] FOIL_TYPE [QUANTITY] — Foil types: NF, RF, CF, EARF, Marvel"}),s.length>0&&(0,r.jsx)("div",{className:"space-y-1 rounded-card bg-[var(--accent-danger)]/5 border border-[var(--accent-danger)]/15 p-3",children:s.map((e,t)=>(0,r.jsxs)("p",{className:"text-[13px] text-[var(--accent-danger)]",children:[(0,r.jsxs)("span",{className:"font-mono",children:['"',e.line,'"']})," — ",e.message]},t))})]})}function h(e){let{value:t,onChange:a}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"buyer-name",className:"block text-kicker font-medium text-t-muted uppercase tracking-wider",children:"Buyer Name"}),(0,r.jsx)("input",{id:"buyer-name",type:"text",value:t,onChange:e=>a(e.target.value),className:"w-full rounded-card bg-input-bg border border-input-border px-4 py-2.5 text-t-strong placeholder-t-muted focus:border-[var(--input-focus-ring)] focus:ring-2 focus:ring-[var(--input-focus-ring)]/20 focus:outline-none text-[13px] transition-all",placeholder:"Enter buyer name for CSV export"})]})}let p={NF:{base:"bg-[#E4E6EB] text-[#586060] dark:bg-white/10 dark:text-white/60",glow:""},RF:{base:"bg-gradient-to-r from-rose-400 via-amber-400 to-sky-400 text-white",glow:"glow-rf"},CF:{base:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white",glow:"glow-cf"},EARF:{base:"bg-gradient-to-r from-rose-400 via-amber-300 to-sky-400 text-white ring-2 ring-amber-300/60",glow:"glow-earf"},Marvel:{base:"bg-gradient-to-r from-violet-500 to-purple-600 text-white",glow:"glow-marvel"}};function g(e){var t;let{result:a}=e,s=!!a.error,l=a.price?a.price*a.quantity:null,n=p[a.foilType];return(0,r.jsxs)("div",{className:"\n        glass-card shimmer-border group relative flex gap-4 rounded-card p-card-p\n        bg-card shadow-card hover:shadow-card-hover hover:-translate-y-0.5\n        transition-all duration-200\n        ".concat(s?"border-[var(--accent-danger)]/20":"","\n      "),children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-[88px] h-[120px] rounded-[10px] overflow-hidden bg-muted-surface dark:bg-white/5",children:a.imageUrl?(0,r.jsx)("img",{src:a.imageUrl,alt:a.cardName,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-t-muted text-kicker text-center p-2",children:"No image"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("h3",{className:"text-title-sm font-semibold text-t-strong truncate",children:a.cardName}),a.setCode&&(0,r.jsx)("p",{className:"text-kicker text-t-muted mt-0.5",children:a.setCode})]}),(0,r.jsx)("span",{className:"\n                inline-flex items-center px-2.5 py-1 rounded-full\n                text-[11px] font-bold tracking-wide flex-shrink-0\n                ".concat(n.base," ").concat(n.glow,"\n              "),children:a.foilType})]})}),s?(0,r.jsx)("p",{className:"text-[13px] text-[var(--accent-danger)] mt-2",children:a.error}):(0,r.jsxs)("div",{className:"mt-auto pt-2",children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsxs)("span",{className:"text-metric-sm font-semibold text-t-strong",children:["\xa5",null==(t=a.price)?void 0:t.toLocaleString()]}),(0,r.jsx)("span",{className:"text-kicker text-t-muted font-medium",children:"NM"}),!a.available&&(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-kicker font-medium text-[var(--accent-danger)]",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[var(--accent-danger)] inline-block"}),"Out of stock"]}),a.available&&(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-kicker font-medium text-[var(--accent-success)]",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[var(--accent-success)] inline-block"}),"In stock"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-1.5 text-[13px] text-t-muted",children:[(0,r.jsxs)("span",{children:["Qty: ",a.quantity]}),null!==l&&(0,r.jsxs)("span",{className:"font-semibold text-t-strong",children:["\xa5",l.toLocaleString()]})]})]}),a.productUrl&&(0,r.jsxs)("a",{href:a.productUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-kicker font-medium text-[var(--primary-400)] hover:text-[var(--primary-500)] dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:["View on Girafull",(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})}let f={NF:{base:"bg-[#E4E6EB] text-[#586060] dark:bg-white/10 dark:text-white/60",glow:""},RF:{base:"bg-gradient-to-r from-rose-400 via-amber-400 to-sky-400 text-white",glow:"glow-rf"},CF:{base:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white",glow:"glow-cf"},EARF:{base:"bg-gradient-to-r from-rose-400 via-amber-300 to-sky-400 text-white ring-2 ring-amber-300/60",glow:"glow-earf"},Marvel:{base:"bg-gradient-to-r from-violet-500 to-purple-600 text-white",glow:"glow-marvel"}},b={EN:"bg-blue-500/20 text-blue-400 border border-blue-500/30",JP:"bg-red-500/20 text-red-400 border border-red-500/30"};function v(e){let{results:t}=e,a=t.filter(e=>!e.error&&null!==e.price),s=t.filter(e=>e.error),l=a.reduce((e,t)=>e+t.price*t.quantity,0);return 0===t.length?null:(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsx)("h2",{className:"text-title-md font-semibold text-t-strong",children:"Summary"}),(0,r.jsx)("div",{className:"glass-card rounded-card bg-card shadow-card overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-[13px] text-left",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-divider",children:[(0,r.jsx)("th",{className:"px-5 py-3.5 text-kicker font-medium text-t-muted uppercase tracking-wider",children:"Card Name"}),(0,r.jsx)("th",{className:"px-5 py-3.5 text-kicker font-medium text-t-muted uppercase tracking-wider",children:"Foil"}),(0,r.jsx)("th",{className:"px-5 py-3.5 text-kicker font-medium text-t-muted uppercase tracking-wider",children:"Lang"}),(0,r.jsx)("th",{className:"px-5 py-3.5 text-kicker font-medium text-t-muted uppercase tracking-wider",children:"Card ID"}),(0,r.jsx)("th",{className:"px-5 py-3.5 text-kicker font-medium text-t-muted uppercase tracking-wider text-right",children:"Qty"}),(0,r.jsx)("th",{className:"px-5 py-3.5 text-kicker font-medium text-t-muted uppercase tracking-wider text-right",children:"Price"}),(0,r.jsx)("th",{className:"px-5 py-3.5 text-kicker font-medium text-t-muted uppercase tracking-wider text-right",children:"Subtotal"})]})}),(0,r.jsx)("tbody",{children:a.map((e,t)=>{let a=f[e.foilType],s=function(e){let t=e.productTitle.toLowerCase(),a=e.productUrl.toLowerCase();return t.includes("【jp】")||a.includes("_langjp")?"JP":t.includes("【en】")||a.includes("_langen")?"EN":null}(e);return(0,r.jsxs)("tr",{className:"border-b border-divider last:border-b-0 hover:bg-white/[0.02] transition-colors",children:[(0,r.jsx)("td",{className:"px-5 py-3.5 text-t-strong font-medium",children:e.cardName}),(0,r.jsx)("td",{className:"px-5 py-3.5",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-bold tracking-wide ".concat(a.base," ").concat(a.glow),children:e.foilType})}),(0,r.jsx)("td",{className:"px-5 py-3.5",children:s&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-bold tracking-wide ".concat(b[s]),children:s})}),(0,r.jsx)("td",{className:"px-5 py-3.5 text-t-muted text-[12px]",children:e.setCode||"—"}),(0,r.jsx)("td",{className:"px-5 py-3.5 text-right text-t-body",children:e.quantity}),(0,r.jsxs)("td",{className:"px-5 py-3.5 text-right text-t-body",children:["\xa5",e.price.toLocaleString()]}),(0,r.jsxs)("td",{className:"px-5 py-3.5 text-right text-t-strong font-semibold",children:["\xa5",(e.price*e.quantity).toLocaleString()]})]},t)})}),(0,r.jsx)("tfoot",{children:(0,r.jsxs)("tr",{className:"border-t border-divider dark:bg-white/[0.02] bg-muted-surface/30",children:[(0,r.jsx)("td",{colSpan:6,className:"px-5 py-4 text-right font-semibold text-t-strong text-title-sm",children:"Grand Total"}),(0,r.jsxs)("td",{className:"px-5 py-4 text-right font-bold text-metric-sm text-[var(--accent-success)]",children:["\xa5",l.toLocaleString()]})]})})]})})}),s.length>0&&(0,r.jsxs)("div",{className:"glass-card rounded-card bg-card shadow-card p-card-p space-y-2",children:[(0,r.jsxs)("h3",{className:"text-title-sm font-semibold text-[var(--accent-danger)]",children:["Not Found (",s.length,")"]}),s.map((e,t)=>(0,r.jsxs)("p",{className:"text-[13px] text-t-muted",children:[e.cardName," (",e.foilType,") — ",e.error]},t))]})]})}function j(e){return'"'.concat(e.replace(/"/g,'""'),'"')}function w(e){let{results:t,buyerName:a}=e;return 0===t.filter(e=>!e.error&&null!==e.price).length?null:(0,r.jsxs)("button",{onClick:()=>{!function(e,t){let a=new Date().toISOString().split("T")[0],r="".concat(t||"cardcrew","_").concat(a,".csv"),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),n=document.createElement("a");n.href=l,n.download=r,n.click(),URL.revokeObjectURL(l)}(function(e,t){let a=new Date().toISOString().split("T")[0],r=[];r.push("Buyer: ".concat(t)),r.push("Date: ".concat(a)),r.push(""),r.push("Card Name,Foil Type,Language,Card ID,Quantity,Price per Unit (JPY),Subtotal (JPY)");let s=0;for(let t of e){if(t.error||null===t.price)continue;let e=t.price*t.quantity;s+=e;let a=j(t.cardName),l=function(e){let t=e.productTitle.toLowerCase(),a=e.productUrl.toLowerCase();return t.includes("【jp】")||a.includes("_langjp")?"JP":t.includes("【en】")||a.includes("_langen")?"EN":""}(t),n=t.setCode||"";r.push("".concat(a,",").concat(j(t.foilType),",").concat(j(l),",").concat(j(n),",").concat(t.quantity,",").concat(t.price,",").concat(e))}return r.push(""),r.push(",,,,,,Grand Total: \xa5".concat(s.toLocaleString())),"\uFEFF"+r.join("\n")}(t,a),a)},className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-400 hover:to-indigo-500 text-white text-[13px] font-semibold shadow-button hover:shadow-lg transition-all active:translate-y-px",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})}function N(e){let{enabled:t,onChange:a}=e;return(0,r.jsxs)("button",{type:"button",onClick:()=>a(!t),className:"inline-flex items-center gap-2 group","aria-pressed":t,children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-t-muted group-hover:text-t-body transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),(0,r.jsx)("span",{className:"text-[12px] font-medium text-t-muted select-none",children:"EN/JP"}),(0,r.jsx)("div",{className:"\n          relative w-9 h-5 rounded-full transition-colors duration-200\n          ".concat(t?"bg-[var(--accent-success)]":"bg-muted-surface","\n        "),children:(0,r.jsx)("div",{className:"\n            absolute top-0.5 w-4 h-4 rounded-full bg-white shadow-sm\n            transition-transform duration-200\n            ".concat(t?"translate-x-[18px]":"translate-x-0.5","\n          ")})})]})}let k={NF:"bg-[#E4E6EB] text-[#586060] dark:bg-white/10 dark:text-white/60",RF:"bg-gradient-to-r from-rose-400 via-amber-400 to-sky-400 text-white",CF:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white",EARF:"bg-gradient-to-r from-rose-400 via-amber-300 to-sky-400 text-white",Marvel:"bg-gradient-to-r from-violet-500 to-purple-600 text-white"};function y(e){let{lang:t,result:a,isSelected:s,isDisabled:l,onClick:n}=e,i=a&&!a.error;return(0,r.jsxs)("button",{type:"button",onClick:n,disabled:l,className:"\n        flex-1 rounded-card p-3 border-2 transition-all duration-200 text-left\n        ".concat(s?"border-[var(--accent-success)] bg-[var(--accent-success)]/5 shadow-md":i?"border-divider hover:border-t-muted bg-card":"border-divider bg-muted-surface opacity-50 cursor-not-allowed","\n      "),children:[(0,r.jsx)("span",{className:"\n          inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-bold tracking-wide mb-2\n          ".concat("EN"===t?"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300":"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300","\n        "),children:t}),i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-full aspect-[3/4] rounded-[8px] overflow-hidden bg-muted-surface dark:bg-white/5 mb-2",children:a.imageUrl?(0,r.jsx)("img",{src:a.imageUrl,alt:"".concat(a.cardName," (").concat(t,")"),className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-t-muted text-kicker",children:"No image"})}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,r.jsx)("span",{className:"text-[15px] font-semibold text-t-strong",children:null!==a.price?"\xa5".concat(a.price.toLocaleString()):"—"}),(0,r.jsx)("span",{className:"text-kicker text-t-muted",children:"NM"})]}),a.available?(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-kicker font-medium text-[var(--accent-success)]",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[var(--accent-success)] inline-block"}),"In stock"]}):(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 text-kicker font-medium text-[var(--accent-danger)]",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[var(--accent-danger)] inline-block"}),"Out of stock"]})]}),a.productUrl&&(0,r.jsxs)("a",{href:a.productUrl,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"inline-flex items-center gap-1 mt-2 text-kicker font-medium text-[var(--primary-400)] hover:text-[var(--primary-500)] dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:["View on Girafull",(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}):(0,r.jsx)("div",{className:"w-full aspect-[3/4] rounded-[8px] bg-muted-surface dark:bg-white/5 flex items-center justify-center mb-2",children:(0,r.jsx)("span",{className:"text-[13px] text-t-muted",children:"Not Found"})}),s&&(0,r.jsxs)("div",{className:"mt-2 flex items-center justify-center gap-1 text-[12px] font-semibold text-[var(--accent-success)]",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Selected"]})]})}function C(e){let{cardName:t,foilType:a,quantity:s,en:l,jp:n,selected:i,onSelect:c}=e,d=k[a];return(0,r.jsxs)("div",{className:"glass-card shimmer-border rounded-card bg-card shadow-card p-card-p",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("h3",{className:"text-title-sm font-semibold text-t-strong truncate",children:t}),(0,r.jsxs)("span",{className:"text-kicker text-t-muted",children:["Qty: ",s]})]}),(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-bold tracking-wide flex-shrink-0 ".concat(d),children:a})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)(y,{lang:"EN",result:l,isSelected:"EN"===i,isDisabled:!l||!!l.error,onClick:()=>c("EN")}),(0,r.jsx)(y,{lang:"JP",result:n,isSelected:"JP"===i,isDisabled:!n||!!n.error,onClick:()=>c("JP")})]})]})}function S(e){let{dualResults:t,selections:a,onSelect:s,onConfirm:l}=e,n=t.every((e,t)=>a.has(t)),i=a.size,c=t.length;return(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-title-md font-semibold text-t-strong",children:"Choose Language Version"}),(0,r.jsxs)("p",{className:"text-[13px] text-t-muted mt-0.5",children:[i,"/",c," selected — pick EN or JP for each card"]})]})}),(0,r.jsx)("div",{className:"grid gap-4 md:gap-[18px] lg:gap-grid-gap grid-cols-1 md:grid-cols-2",children:t.map((e,t)=>(0,r.jsx)(C,{cardName:e.cardName,foilType:e.foilType,quantity:e.quantity,en:e.en,jp:e.jp,selected:a.get(t),onSelect:e=>s(t,e)},t))}),(0,r.jsx)("div",{className:"flex justify-center pt-2",children:(0,r.jsxs)("button",{onClick:l,disabled:!n,className:"px-8 py-3 rounded-full bg-[var(--accent-success)] hover:brightness-110 disabled:bg-muted-surface disabled:text-t-muted text-white text-[14px] font-semibold shadow-button hover:shadow-lg transition-all active:translate-y-px disabled:shadow-none disabled:hover:brightness-100",children:["Confirm Selections (",i,"/",c,")"]})})]})}function E(e){let{activeTab:t,onChange:a}=e;return(0,r.jsx)("div",{className:"inline-flex rounded-full p-1 bg-muted-surface dark:bg-white/5",children:[{key:"text",label:"Text Input"},{key:"browser",label:"Card Browser"}].map(e=>{let{key:s,label:l}=e;return(0,r.jsx)("button",{onClick:()=>a(s),className:"\n            px-4 py-1.5 rounded-full text-[13px] font-medium transition-all\n            ".concat(t===s?"bg-[var(--accent-success)] text-white shadow-sm":"text-t-muted hover:text-t-body","\n          "),children:l},s)})})}function F(e){let{imageIds:t,alt:a,className:l="",loading:n}=e,[i,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(!1),m=(0,s.useCallback)(()=>{i+1<t.length?c(i+1):u(!0)},[i,t.length]);return d||0===t.length?(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-t-muted text-kicker text-center p-2",children:"No image"}):(0,r.jsx)("img",{src:o(t[i]),alt:a,className:l,loading:n,onError:m})}let L={1:"bg-red-500",2:"bg-yellow-400",3:"bg-blue-500"};function T(e){let{card:t,onClick:a}=e;return(0,r.jsxs)("button",{onClick:()=>a(t),className:"glass-card shimmer-border rounded-card bg-card shadow-card hover:shadow-card-hover hover:-translate-y-0.5 transition-all duration-200 text-left overflow-hidden group",children:[(0,r.jsxs)("div",{className:"aspect-[5/7] w-full overflow-hidden bg-muted-surface dark:bg-white/5 relative",children:[(0,r.jsx)(F,{imageIds:function(e){let t=[],a=new Set;for(let r of(e.defaultImage&&(t.push(e.defaultImage),a.add(e.defaultImage)),e.printings))r.image&&!a.has(r.image)&&(t.push(r.image),a.add(r.image));return t}(t),alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),t.printings.length>1&&(0,r.jsxs)("span",{className:"absolute top-2 right-2 px-1.5 py-0.5 rounded-full bg-black/60 text-white text-[10px] font-bold backdrop-blur-sm",children:[t.printings.length," arts"]})]}),(0,r.jsxs)("div",{className:"p-3 space-y-1.5",children:[(0,r.jsxs)("div",{className:"flex items-start gap-1.5",children:[void 0!==t.pitch&&(0,r.jsx)("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0 mt-1 ".concat(L[t.pitch]||"bg-gray-400")}),(0,r.jsx)("h3",{className:"text-[13px] font-semibold text-t-strong leading-tight line-clamp-2",children:t.name})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.sets.slice(0,2).map(e=>(0,r.jsx)("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-muted-surface dark:bg-white/8 text-t-muted",children:e},e)),t.sets.length>2&&(0,r.jsxs)("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium text-t-muted",children:["+",t.sets.length-2]})]})]})]})}var M=a(7650);let R=["NF","RF","CF","EARF","Marvel"],I={NF:{base:"bg-[#E4E6EB] text-[#586060] dark:bg-white/10 dark:text-white/60",glow:""},RF:{base:"bg-gradient-to-r from-rose-400 via-amber-400 to-sky-400 text-white",glow:"glow-rf"},CF:{base:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white",glow:"glow-cf"},EARF:{base:"bg-gradient-to-r from-rose-400 via-amber-300 to-sky-400 text-white ring-2 ring-amber-300/60",glow:"glow-earf"},Marvel:{base:"bg-gradient-to-r from-violet-500 to-purple-600 text-white",glow:"glow-marvel"}};function q(e){let t=[e.set];return e.edition&&t.push(e.edition),e.foiling&&t.push(e.foiling),e.treatment&&t.push(e.treatment),t.join(" - ")}function P(e){let{pr:t,isSelected:a,onClick:l}=e,[n,i]=(0,s.useState)(!1);return n?null:(0,r.jsx)("button",{onClick:l,className:"\n        flex-shrink-0 w-[52px] aspect-[5/7] rounded-[6px] overflow-hidden border-2 transition-all\n        ".concat(a?"border-[var(--accent-success)] scale-105":"border-transparent opacity-60 hover:opacity-100","\n      "),title:q(t),children:(0,r.jsx)("img",{src:o(t.image),alt:q(t),className:"w-full h-full object-cover",loading:"lazy",onError:()=>i(!0)})})}function U(e){let{card:t,onAdd:a,onClose:l}=e,[n,i]=(0,s.useState)("NF"),[c,d]=(0,s.useState)(1),[o,u]=(0,s.useState)(0),m=t.printings[o],x=(0,s.useCallback)(()=>{let e=[],a=new Set;for(let r of((null==m?void 0:m.image)&&(e.push(m.image),a.add(m.image)),t.printings))r.image&&!a.has(r.image)&&(e.push(r.image),a.add(r.image));return t.defaultImage&&!a.has(t.defaultImage)&&e.push(t.defaultImage),e},[m,t.printings,t.defaultImage]);return(0,M.createPortal)((0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:l,children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,r.jsxs)("div",{className:"relative glass-card rounded-card bg-card shadow-card-hover p-5 w-full max-w-md space-y-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-title-md font-semibold text-t-strong",children:t.name}),(0,r.jsxs)("p",{className:"text-kicker text-t-muted mt-0.5",children:[t.types.join(", ")," ",t.classes.length>0&&"NotClassed"!==t.classes[0]?"- ".concat(t.classes.join(", ")):""]})]}),(0,r.jsx)("div",{className:"w-full aspect-[5/7] max-w-[220px] mx-auto rounded-[10px] overflow-hidden bg-muted-surface dark:bg-white/5",children:(0,r.jsx)(F,{imageIds:x(),alt:"".concat(t.name).concat(m?" - ".concat(q(m)):""),className:"w-full h-full object-cover"},o)}),t.printings.length>1&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-kicker font-medium text-t-muted mb-2",children:["Printing (",o+1,"/",t.printings.length,")"]}),(0,r.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-1",children:t.printings.map((e,t)=>(0,r.jsx)(P,{pr:e,isSelected:t===o,onClick:()=>u(t)},"".concat(e.identifier,"-").concat(e.image)))}),(0,r.jsx)("p",{className:"text-[11px] text-t-muted mt-1.5 truncate",children:q(m)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-kicker font-medium text-t-muted mb-2",children:"Foil Type"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1.5",children:R.map(e=>{let t=I[e],a=n===e;return(0,r.jsx)("button",{onClick:()=>i(e),className:"\n                    px-3 py-1.5 rounded-full text-[11px] font-bold tracking-wide transition-all\n                    ".concat(a?"".concat(t.base," ").concat(t.glow," scale-105"):"bg-muted-surface dark:bg-white/5 text-t-muted hover:text-t-body","\n                  "),children:e},e)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-kicker font-medium text-t-muted mb-2",children:"Quantity"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),className:"w-8 h-8 rounded-full bg-muted-surface dark:bg-white/5 text-t-body hover:text-t-strong flex items-center justify-center transition-colors",children:"-"}),(0,r.jsx)("span",{className:"text-title-md font-semibold text-t-strong w-8 text-center",children:c}),(0,r.jsx)("button",{onClick:()=>d(c+1),className:"w-8 h-8 rounded-full bg-muted-surface dark:bg-white/5 text-t-body hover:text-t-strong flex items-center justify-center transition-colors",children:"+"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-1",children:[(0,r.jsx)("button",{onClick:()=>{a(t,n,c),l()},className:"flex-1 px-4 py-2.5 rounded-full bg-[var(--accent-success)] hover:brightness-110 text-white text-[13px] font-semibold shadow-button transition-all active:translate-y-px",children:"Add to List"}),(0,r.jsx)("button",{onClick:l,className:"px-4 py-2.5 rounded-full border border-divider text-t-muted hover:text-t-strong hover:border-t-muted text-[13px] font-medium transition-all",children:"Cancel"})]})]})]}),document.body)}function B(){return(0,r.jsx)("div",{className:"grid gap-4 md:gap-[18px] lg:gap-grid-gap grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((e,t)=>(0,r.jsxs)("div",{className:"glass-card rounded-card bg-card shadow-card overflow-hidden animate-pulse",children:[(0,r.jsx)("div",{className:"aspect-[5/7] bg-muted-surface dark:bg-white/5"}),(0,r.jsxs)("div",{className:"p-3 space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-muted-surface dark:bg-white/5 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-3 bg-muted-surface dark:bg-white/5 rounded w-1/2"})]})]},t))})}function A(e){let{isLoading:t,loadError:a,searchQuery:s,onSearchQueryChange:l,searchResults:n,selectedCard:i,onSelectCard:c,onClearSelection:d,onAddToList:o}=e;return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("svg",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-t-muted pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Search cards by name...",className:"w-full pl-10 pr-4 py-2.5 rounded-card bg-input-bg border border-input-border text-[13px] text-t-body placeholder:text-t-muted focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-ring)] focus:border-transparent transition-all"})]}),t&&(0,r.jsx)(B,{}),a&&(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-[13px] text-[var(--accent-danger)]",children:a})}),!t&&!a&&s&&0===n.length&&(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsxs)("p",{className:"text-[13px] text-t-muted",children:['No cards found for "',s,'"']})}),!t&&!a&&!s&&(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-[13px] text-t-muted",children:"Type a card name to start searching"})}),n.length>0&&(0,r.jsx)("div",{className:"grid gap-4 md:gap-[18px] lg:gap-grid-gap grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:n.map(e=>(0,r.jsx)(T,{card:e,onClick:c},e.cardIdentifier))}),i&&(0,r.jsx)(U,{card:i,onAdd:o,onClose:d})]})}let J={NF:{base:"bg-[#E4E6EB] text-[#586060] dark:bg-white/10 dark:text-white/60",glow:""},RF:{base:"bg-gradient-to-r from-rose-400 via-amber-400 to-sky-400 text-white",glow:"glow-rf"},CF:{base:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white",glow:"glow-cf"},EARF:{base:"bg-gradient-to-r from-rose-400 via-amber-300 to-sky-400 text-white ring-2 ring-amber-300/60",glow:"glow-earf"},Marvel:{base:"bg-gradient-to-r from-violet-500 to-purple-600 text-white",glow:"glow-marvel"}};function _(e){let{items:t,onRemove:a,onSearch:s,onClear:l,isSearching:n,dualLang:i,onDualLangChange:c}=e;return 0===t.length?(0,r.jsxs)("div",{className:"glass-card rounded-card bg-card shadow-card p-card-p",children:[(0,r.jsx)("p",{className:"text-[13px] text-t-muted text-center py-4",children:"No cards added yet. Search and click cards above to build your list."}),(0,r.jsx)("div",{className:"flex justify-end pt-2",children:(0,r.jsx)(N,{enabled:i,onChange:c})})]}):(0,r.jsxs)("div",{className:"glass-card shimmer-border rounded-card bg-card shadow-card p-card-p space-y-3",children:[(0,r.jsxs)("h3",{className:"text-title-sm font-semibold text-t-strong",children:["Build List (",t.length," ",1===t.length?"card":"cards",")"]}),(0,r.jsx)("div",{className:"space-y-1.5 max-h-[300px] overflow-y-auto",children:t.map((e,t)=>{let s=J[e.foilType];return(0,r.jsxs)("div",{className:"flex items-center gap-2 py-1.5 px-2 rounded-lg hover:bg-muted-surface dark:hover:bg-white/3 transition-colors",children:[(0,r.jsx)("span",{className:"text-[13px] text-t-body flex-1 truncate",children:m(e.card)}),(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold tracking-wide flex-shrink-0 ".concat(s.base," ").concat(s.glow),children:e.foilType}),(0,r.jsxs)("span",{className:"text-kicker text-t-muted flex-shrink-0 w-6 text-center",children:["x",e.quantity]}),(0,r.jsx)("button",{onClick:()=>a(t),className:"text-t-muted hover:text-[var(--accent-danger)] transition-colors flex-shrink-0 p-0.5","aria-label":"Remove ".concat(e.card.name),children:(0,r.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},"".concat(e.card.cardIdentifier,"-").concat(e.foilType,"-").concat(t))})}),(0,r.jsxs)("div",{className:"flex items-center gap-3 pt-1",children:[(0,r.jsx)("button",{onClick:s,disabled:n||0===t.length,className:"px-6 py-2.5 rounded-full bg-[var(--accent-success)] hover:brightness-110 disabled:bg-muted-surface disabled:text-t-muted text-white text-[13px] font-semibold shadow-button hover:shadow-lg transition-all active:translate-y-px disabled:shadow-none disabled:hover:brightness-100",children:n?"Searching...":"Search Prices"}),(0,r.jsx)("button",{onClick:l,className:"px-4 py-2.5 rounded-full border border-divider text-t-muted hover:text-t-strong hover:border-t-muted text-[13px] font-medium transition-all",children:"Clear All"}),(0,r.jsx)("div",{className:"ml-auto",children:(0,r.jsx)(N,{enabled:i,onChange:c})})]})]})}function O(){let{input:e,setInput:t,buyerName:a,setBuyerName:c,results:o,parseErrors:u,isSearching:p,progress:f,search:b,searchFromList:j,clearResults:k,dualLang:y,setDualLang:C,dualResults:F,selections:L,selectLanguage:T,confirmSelections:M,isPickerMode:R}=function(){let[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(""),[c,d]=(0,s.useState)([]),[o,u]=(0,s.useState)([]),[m,x]=(0,s.useState)(!1),[h,p]=(0,s.useState)({current:0,total:0}),[g,f]=(0,s.useState)(!1),[b,v]=(0,s.useState)([]),[j,w]=(0,s.useState)(new Map),[N,k]=(0,s.useState)(!1),[y,C]=(0,s.useState)([]);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("cardcrew-dual-lang");"true"===e&&f(!0)}catch(e){}},[]);let S=(0,s.useCallback)(e=>{f(e);try{localStorage.setItem("cardcrew-dual-lang",String(e))}catch(e){}},[]),E=g&&b.length>0&&!N,F=(0,s.useCallback)((e,t)=>{w(a=>{let r=new Map(a);return r.set(e,t),r})},[]),L=(0,s.useCallback)(()=>{let e=b.map((e,t)=>{let a="JP"===j.get(t)?e.jp:e.en;return a||{cardName:e.cardName,foilType:e.foilType,quantity:e.quantity,productTitle:"",price:null,imageUrl:null,available:!1,productUrl:"",setCode:null,error:"No version selected or found"}});t(e=>{let t=e;return b.forEach((e,a)=>{let r=j.get(a)||"EN",s=y[a];if(s){let e=n(r,s.cardName,s.foilType,s.quantity);t=i(t,s.rawLine,e)}}),t}),d(e),k(!0)},[b,j,y]),T=(0,s.useCallback)(async()=>{let a=function(e){let t=[],a=[];for(let r of e.split("\n").map(e=>e.trim()).filter(e=>e.length>0)){let e,s=r,n=s.match(/^\[(EN|JP)\]\s*/i);n&&(e=n[1].toUpperCase(),s=s.slice(n[0].length));let i=s.split(/\s+/);if(i.length<2){a.push({line:r,message:"Need at least a card name and foil type"});continue}let c=1,d=i.length-1,o=i[d];if(/^\d+$/.test(o)&&(c=parseInt(o,10),d--),d<1){a.push({line:r,message:"Need at least a card name and foil type"});continue}let u=i[d].toUpperCase(),m=l.find(e=>e===u);if(!m){a.push({line:r,message:'Invalid foil type "'.concat(i[d],'". Use: NF, RF, CF, EARF, Marvel')});continue}let x=i.slice(0,d).join(" ");if(!x){a.push({line:r,message:"Card name is empty"});continue}t.push({cardName:x,foilType:m,quantity:c,rawLine:r,lang:e})}return{cards:t,errors:a}}(e);if(u(a.errors),0!==a.cards.length){C(a.cards),x(!0),d([]),v([]),w(new Map),k(!1),p({current:0,total:a.cards.length});try{let e=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cards:a.cards,dualLang:g})});if(!e.ok){let t=await e.json();throw Error(t.error||"Search failed")}let r=await e.json();if(g){let e=r.results;v(e);let t=new Map;e.forEach((e,a)=>{e.en&&!e.jp?t.set(a,"EN"):!e.en&&e.jp&&t.set(a,"JP")}),w(t)}else d(r.results),t(e=>{let t=e;return a.cards.forEach(e=>{if(!e.lang){let a=n("EN",e.cardName,e.foilType,e.quantity);t=i(t,e.rawLine,a)}}),t});p({current:a.cards.length,total:a.cards.length})}catch(e){console.error("Search error:",e),d(a.cards.map(t=>({cardName:t.cardName,foilType:t.foilType,quantity:t.quantity,productTitle:"",price:null,imageUrl:null,available:!1,productUrl:"",setCode:null,error:e instanceof Error?e.message:"Search failed"})))}finally{x(!1)}}},[e,g]);return{input:e,setInput:t,buyerName:a,setBuyerName:r,results:c,parseErrors:o,isSearching:m,progress:h,search:T,searchFromList:(0,s.useCallback)(async e=>{if(0!==e.length){C(e),u([]),x(!0),d([]),v([]),w(new Map),k(!1),p({current:0,total:e.length});try{let t=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cards:e,dualLang:g})});if(!t.ok){let e=await t.json();throw Error(e.error||"Search failed")}let a=await t.json();if(g){let e=a.results;v(e);let t=new Map;e.forEach((e,a)=>{e.en&&!e.jp?t.set(a,"EN"):!e.en&&e.jp&&t.set(a,"JP")}),w(t)}else d(a.results);p({current:e.length,total:e.length})}catch(t){console.error("Search error:",t),d(e.map(e=>({cardName:e.cardName,foilType:e.foilType,quantity:e.quantity,productTitle:"",price:null,imageUrl:null,available:!1,productUrl:"",setCode:null,error:t instanceof Error?t.message:"Search failed"})))}finally{x(!1)}}},[g]),clearResults:(0,s.useCallback)(()=>{d([]),v([]),w(new Map),k(!1),u([]),p({current:0,total:0}),C([])},[]),dualLang:g,setDualLang:S,dualResults:b,selections:j,selectLanguage:F,confirmSelections:L,isPickerMode:E}}(),{theme:I,toggle:q,mounted:P}=function(){let[e,t]=(0,s.useState)("dark"),[a,r]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("cardcrew-theme")||"dark";t(e),document.documentElement.classList.toggle("dark","dark"===e),r(!0)},[]);let l=(0,s.useCallback)(e=>{t(e),localStorage.setItem("cardcrew-theme",e),document.documentElement.classList.toggle("dark","dark"===e)},[]),n=(0,s.useCallback)(()=>{l("dark"===e?"light":"dark")},[e,l]);return{theme:e,toggle:n,mounted:a}}(),[U,B]=(0,s.useState)("text"),J=function(){let[e,t]=(0,s.useState)([]),a=(0,s.useCallback)((e,a,r)=>{t(t=>{let s=t.findIndex(t=>t.card.cardIdentifier===e.cardIdentifier&&t.foilType===a);if(s>=0){let e=[...t];return e[s]={...e[s],quantity:e[s].quantity+r},e}return[...t,{card:e,foilType:a,quantity:r}]})},[]),r=(0,s.useCallback)(e=>{t(t=>t.filter((t,a)=>a!==e))},[]),l=(0,s.useCallback)((e,a)=>{t(t=>{let r=[...t];return r[e]={...r[e],...a},r})},[]),n=(0,s.useCallback)(()=>{t([])},[]),i=(0,s.useCallback)(()=>e.map(e=>{let t=m(e.card);return{cardName:t,foilType:e.foilType,quantity:e.quantity,rawLine:"".concat(t," ").concat(e.foilType," ").concat(e.quantity)}}),[e]);return{items:e,addItem:a,removeItem:r,updateItem:l,clearList:n,toParsedCards:i}}(),O=function(){let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!1),[l,n]=(0,s.useState)(""),[i,c]=(0,s.useState)([]),[o,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),h=(0,s.useRef)(!1),p=(0,s.useRef)(void 0),g=(0,s.useCallback)(async()=>{if(!h.current){h.current=!0,r(!0),x(null);try{let e=await d();t(e)}catch(e){x("Failed to load card database")}finally{r(!1)}}},[]);return(0,s.useEffect)(()=>0===e.length?void c([]):(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{c(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r=t.toLowerCase().trim();if(!r)return[];let s=[],l=[];for(let t of e){let e=t.name.toLowerCase();if(e.startsWith(r)?s.push(t):e.includes(r)&&l.push(t),s.length+l.length>=a)break}return[...s,...l].slice(0,a)}(e,l))},300),()=>{p.current&&clearTimeout(p.current)}),[l,e]),{isLoading:a,loadError:m,searchQuery:l,setSearchQuery:n,searchResults:i,selectedCard:o,selectCard:(0,s.useCallback)(e=>{u(e)},[]),clearSelection:(0,s.useCallback)(()=>{u(null)},[]),load:g}}();return(0,r.jsx)("div",{className:"min-h-screen bg-page p-4 sm:p-6 md:p-8 lg:p-10",children:(0,r.jsxs)("div",{className:"max-w-[1120px] mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6 md:mb-8 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-[28px] font-bold text-t-strong tracking-tight",children:"CardCrew"}),(0,r.jsx)("p",{className:"text-[13px] text-t-muted mt-1",children:"Search Flesh and Blood cards on Girafull"})]}),P&&(0,r.jsx)("button",{onClick:q,className:"glass-card p-2.5 rounded-full shadow-card hover:shadow-card-hover transition-all","aria-label":"Toggle theme",children:"dark"===I?(0,r.jsx)("svg",{className:"w-5 h-5 text-amber-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,r.jsx)("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})]}),(0,r.jsxs)("div",{className:"glass-panel rounded-panel bg-panel p-4 sm:p-5 md:p-6 lg:p-7",children:[(0,r.jsx)("div",{className:"glass-card shimmer-border rounded-card bg-card shadow-card p-card-p mb-5",children:(0,r.jsx)(h,{value:a,onChange:c})}),(0,r.jsx)("div",{className:"mb-5",children:(0,r.jsx)(E,{activeTab:U,onChange:e=>{B(e),"browser"===e&&O.load()}})}),"text"===U&&(0,r.jsxs)("div",{className:"glass-card shimmer-border rounded-card bg-card shadow-card p-card-p space-y-4 mb-5",children:[(0,r.jsx)(x,{value:e,onChange:t,errors:u,disabled:p}),(0,r.jsxs)("div",{className:"flex items-center gap-3 pt-1",children:[(0,r.jsx)("button",{onClick:b,disabled:p||!e.trim(),className:"px-6 py-2.5 rounded-full bg-[var(--accent-success)] hover:brightness-110 disabled:bg-muted-surface disabled:text-t-muted text-white text-[13px] font-semibold shadow-button hover:shadow-lg transition-all active:translate-y-px disabled:shadow-none disabled:hover:brightness-100",children:p?"Searching...":"Search"}),(o.length>0||F.length>0)&&(0,r.jsx)("button",{onClick:k,className:"px-4 py-2.5 rounded-full border border-divider text-t-muted hover:text-t-strong hover:border-t-muted text-[13px] font-medium transition-all",children:"Clear"}),(0,r.jsx)("div",{className:"ml-auto",children:(0,r.jsx)(N,{enabled:y,onChange:C})})]})]}),"browser"===U&&(0,r.jsxs)("div",{className:"space-y-5 mb-5",children:[(0,r.jsx)("div",{className:"glass-card shimmer-border rounded-card bg-card shadow-card p-card-p",children:(0,r.jsx)(A,{isLoading:O.isLoading,loadError:O.loadError,searchQuery:O.searchQuery,onSearchQueryChange:O.setSearchQuery,searchResults:O.searchResults,selectedCard:O.selectedCard,onSelectCard:O.selectCard,onClearSelection:O.clearSelection,onAddToList:(a,r,s)=>{J.addItem(a,r,s);let l=m(a),n="".concat(l," ").concat(r," ").concat(s);t(e?"".concat(e,"\n").concat(n):n)}})}),(0,r.jsx)(_,{items:J.items,onRemove:a=>{let r=J.items[a];if(r){let a=m(r.card),s="".concat(a," ").concat(r.foilType," ").concat(r.quantity),l=e.split("\n"),n=l.findIndex(e=>e.trim()===s);n>=0&&(l.splice(n,1),t(l.join("\n")))}J.removeItem(a)},onSearch:()=>{j(J.toParsedCards())},onClear:()=>{let a=new Set(J.items.map(e=>{let t=m(e.card);return"".concat(t," ").concat(e.foilType," ").concat(e.quantity)}));t(e.split("\n").filter(e=>!a.has(e.trim())).join("\n")),J.clearList()},isSearching:p,dualLang:y,onDualLangChange:C})]}),p&&(0,r.jsxs)("div",{className:"glass-card rounded-card bg-card shadow-card p-card-p mb-5 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-[var(--primary-400)] border-t-transparent rounded-full animate-spin"}),(0,r.jsxs)("span",{className:"text-[13px] text-t-body",children:["Searching cards... ",f.current,"/",f.total]})]}),(0,r.jsx)("div",{className:"w-full bg-muted-surface rounded-full h-1.5 overflow-hidden",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-1.5 rounded-full transition-all duration-300",style:{width:f.total>0?"".concat(f.current/f.total*100,"%"):"0%"}})})]}),R&&(0,r.jsx)(S,{dualResults:F,selections:L,onSelect:T,onConfirm:M}),!R&&o.length>0&&(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-title-md font-semibold text-t-strong",children:"Results"}),(0,r.jsx)("div",{className:"grid gap-4 md:gap-[18px] lg:gap-grid-gap grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:o.map((e,t)=>(0,r.jsx)(g,{result:e},t))})]}),(0,r.jsx)(v,{results:o}),(0,r.jsx)("div",{className:"flex justify-end pt-1",children:(0,r.jsx)(w,{results:o,buyerName:a})})]})]})]})})}},4359:(e,t,a)=>{Promise.resolve().then(a.bind(a,870))}},e=>{e.O(0,[441,255,358],()=>e(e.s=4359)),_N_E=e.O()}]);